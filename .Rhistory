knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(dplyr)
idr_condition <- read_csv("~/OMOP2OBO/tests/data/clinical_data/idr_condition_occurrence_head.csv")
``
data_path="V:/FACULTY/DJLEMAS/EHR_Data/processed/OMOP/"
data_file="condition_occurrence_head.csv"
data_file_path=paste0(data_path,data_file)
data_file_path
# Import Files
data <- read_csv(data_file_path, show_col_types = FALSE)
data
concept <- read.table("V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_v2.0.txt", sep = '\t', fill = TRUE, header = TRUE)
#Read in data as separate data frames
concept <- read.table("V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_v2.0.txt",
sep = '\t', fill = TRUE, header = TRUE)
View(concept)
vocabulary <- read.table("V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/vocabulary_v2.0.txt",
sep = '\t', fill = TRUE, header = TRUE)
concept_ancestor <- read.table("V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_ancestor_v2.0.txt",
sep = '\t', fill = TRUE, header = TRUE)
concept_synonym <- read.table("V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_synonym_v2.0.txt",
sep = '\t', fill = TRUE, header = TRUE)
concept_ancestor <- read.table("V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_ancestor_v2.0.txt",
sep = '\t', fill = TRUE, header = TRUE)
concept_ancestor <- read.table("V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_ancestor_v2.0.txt",
sep = '\t', fill = TRUE, header = TRUE)
library(readr)
concept <- read_tsv("V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_v2.0.txt"),
concept <- read_tsv(file="V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_v2.0.txt")
View(concept)
library(readr)
#Read in data as separate data frames
concept <- read_tsv(file="V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_v2.0.txt", show_col_types = FALSE)
vocabulary <- read_tsv(file="V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/vocabulary_v2.0.txt", show_col_types = FALSE) %>%
rename(concept_id=vocabulary_concept_id)
library(readr)
library(readr)
library(tidyverse)
#Read in data as separate data frames
concept <- read_tsv(file="V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_v2.0.txt", show_col_types = FALSE)
vocabulary <- read_tsv(file="V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/vocabulary_v2.0.txt", show_col_types = FALSE) %>%
rename(concept_id=vocabulary_concept_id)
concept_ancestor <- read_tsv(file="V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_ancestor_v2.0.txt", show_col_types = FALSE)
concept_synonym <- read_tsv(file="V:/FACULTY/DJLEMAS/BENCHMARK_DATA/OMOP2OBO/cancer/data_release/concept_synonym_v2.0.txt", show_col_types = FALSE)
library(tidyverse)
# Merge the Concept table with the Vocabulary table:  Primary key: concept_id
concept_vocab_merged=left_join(concept,vocabulary,by='concept_id')
View(concept_vocab_merged)
concept_vocab_filter=concept_vocab_merged %>%
filter(concept_name != "No matching concept")
concept_vocab_filter=concept_vocab_merged %>%
filter(concept_name != "No matching concept" &
domain_id == "Condition")
concept_vocab_filter=concept_vocab_merged %>%
filter(concept_name != "No matching concept" &
domain_id == "Condition" &
standard_concept == "S")
View(concept_vocab_filter)
str(concept_vocab_filter)
levels(concept_vocab_filter$vocabulary_id.x)
concept_vocab_filter$vocabulary_id.x
unique(concept_vocab_filter$vocabulary_id.x)
unique(concept_vocab_filter$vocabulary_id.y)
concept_vocab_filter=concept_vocab_merged %>%
filter(concept_name != "No matching concept")
View(concept_vocab_filter)
unique(concept_vocab_filter$vocabulary_id.x)
unique(concept_vocab_filter$vocabulary_id.y)
concept_vocab_filter=concept_vocab_merged %>%
filter(concept_name != "No matching concept") %>%
filter(domain_id == "Condition")
View(concept_vocab_filter)
concept_vocab_filter=concept_vocab_merged %>%
filter(concept_name != "No matching concept") %>%
filter(domain_id == "Condition") %>%
filter(standard_concept == "S")
View(concept_vocab_filter)
concept_vocab_filter=concept_vocab_merged %>%
filter(concept_name != "No matching concept") %>%
filter(domain_id == "Condition") %>%
filter(standard_concept == "S") %>%
filter(voacbulary_id.x == "SNOMED")
View(concept_vocab_filter)
concept_vocab_filter=concept_vocab_merged %>%
filter(concept_name != "No matching concept") %>%
filter(domain_id == "Condition") %>%
filter(standard_concept == "S")
unique(concept_vocab_filter$vocabulary_id.x)
unique(concept_vocab_filter$vocabulary_id.y)
table(unique(concept$vocabulary_id))
concept$vocabulary_id=as.factor(concept$vocabulary_id)
